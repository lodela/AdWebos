<!DOCTYPE html>
<html lang="es">
  <head>
    <base target="_top">
    <meta charset="UTF-8">
    <?!= components.getHtml('css_bootstrap-4.0.0-alpha.6'); ?>
    <?!= components.getHtml('css_toastr-2.1.3'); ?>
    <?!= components.getHtml('css_colors'); ?>
    <?!= components.getHtml('css_images'); ?>
    <?!= components.getHtml('css_style'); ?>
  </head>
  <style>
    svg {
      border: solid 1px red;
    }
  </style>
  <body>
    <main role="main">
      <?!= components.getComponent('header').html ?>
    </main>
    
    <canvas id="myCanvas" width="450" height="750" style="border: 1px solid #cccccc;">
      HTML5 Canvas not supported
    </canvas>
    
    <svg width=560 height=480>
      <line x1=0 y1=80 x2=560 y2=80 stroke="blue" stroke-width=1 stroke-linecap="butt"/>
      <line x1=0 y1=160 x2=560 y2=160 stroke="blue" stroke-width=1 stroke-linecap="butt"/>
      <line x1=0 y1=240 x2=560 y2=240 stroke="blue" stroke-width=1 stroke-linecap="butt"/>
      <line x1=0 y1=320 x2=560 y2=320 stroke="blue" stroke-width=1 stroke-linecap="butt"/>
      <line x1=0 y1=400 x2=560 y2=400 stroke="blue" stroke-width=1 stroke-linecap="butt"/>
      <line x1=80 y1=0 x2=80 y2=480 stroke="blue" stroke-width=1 stroke-linecap="butt"/>
      <line x1=160 y1=0 x2=160 y2=480 stroke="blue" stroke-width=1 stroke-linecap="butt"/>
      <line x1=240 y1=0 x2=240 y2=480 stroke="blue" stroke-width=1 stroke-linecap="butt"/>
      <line x1=320 y1=0 x2=320 y2=480 stroke="blue" stroke-width=1 stroke-linecap="butt"/>
      <line x1=400 y1=0 x2=400 y2=480 stroke="blue" stroke-width=1 stroke-linecap="butt"/>
      <line x1=480 y1=0 x2=480 y2=480 stroke="blue" stroke-width=1 stroke-linecap="butt"/>
    </svg>
  </body>
  <?!= components.getHtml('js_jquery-3.1.1.slim'); ?>
  <?!= components.getHtml('js_tether-1.4.0'); ?>
  <?!= components.getHtml('js_bootstrap-4.0.0-alpha.6'); ?>
  <?!= components.getHtml('js_toastr-2.1.3'); ?>
  <?!= components.getHtml('js_custom'); ?>
  <?!= components.getHtml('js_utils'); ?>
  <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
  
<script type="text/javascript">
      
var elem = document.querySelector('#myCanvas');
var elemLeft = elem.offsetLeft;
var elemTop = elem.offsetTop;
//var inCont = document.querySelector("#myCanvas");
var contexto = elem.getContext('2d');

// circulo
contexto.beginPath();
contexto.fillStyle = "red";
contexto.strokeStyle="black";
contexto.arc(50, 75, 30, 0, 2 * Math.PI, false);
contexto.fill();
contexto.stroke();
contexto.closePath();

// linea
contexto.beginPath(); // Inicializamos una ruta
contexto.lineCap = "square";
//contexto_canvas_1.strokeStyle="black";
contexto.moveTo(80, 75); // Nos situamos al principio de una línea
contexto.lineTo(150, 75); // Trazamos la línea
contexto.closePath();
contexto.stroke();

// dos curvas bezier, en forma de letra ese 
contexto.beginPath();
contexto.fillStyle = '#2E3FAF';
contexto.moveTo(150,25);
contexto.lineTo(150,125);
contexto.bezierCurveTo(150,125,180,130,190,125);
contexto.bezierCurveTo(190,125,230,105,300,105);
contexto.lineTo(300,25);
contexto.lineTo(200,25);
contexto.closePath();
contexto.fill();

contexto.font = "18px Helvetica";
contexto.fillStyle = "#000";
contexto.fillText("C100 etapa 1", 170, 58);
contexto.closePath();

// linea
contexto.beginPath();
contexto.lineCap = "square";
contexto.moveTo(230, 111); // Nos situamos al principio de una línea
contexto.lineTo(230, 160); // Trazamos la línea
contexto.closePath();
contexto.stroke();

// linea 
contexto.beginPath(); // Inicializamos una ruta
contexto.lineCap = "square";
//contexto_canvas_1.strokeStyle="black";
contexto.moveTo(300, 75); // Nos situamos al principio de una línea
contexto.lineTo(350, 75); // Trazamos la línea
contexto.closePath();
contexto.stroke();

// linea
contexto.beginPath(); // Inicializamos una ruta
contexto.lineCap = "square";
//contexto_canvas_1.strokeStyle="black";
contexto.moveTo(260, 210); // Nos situamos al principio de una línea
contexto.lineTo(350, 210); // Trazamos la línea
contexto.closePath();
contexto.stroke();

// linea
contexto.beginPath(); // Inicializamos una ruta
contexto.lineCap = "square";
//contexto_canvas_1.strokeStyle="black";
contexto.moveTo(350, 210); // Nos situamos al principio de una línea
contexto.lineTo(350, 75); // Trazamos la línea
contexto.closePath();
contexto.stroke();
      
// rombo
contexto.fillStyle = '#e00ef1';
contexto.beginPath();
contexto.moveTo(230, 160);
contexto.lineTo(260, 210);
contexto.lineTo(230, 260);
contexto.lineTo(200, 210);
contexto.closePath();
contexto.fill();

// linea
contexto.beginPath(); // Inicializamos una ruta
contexto.lineCap = "square";
//contexto_canvas_1.strokeStyle="black";
contexto.moveTo(230, 259); // Nos situamos al principio de una línea
contexto.lineTo(230, 290); // Trazamos la línea
contexto.closePath();
contexto.stroke();

// dos curvas bezier, en forma de letra ese 
contexto.beginPath();
contexto.fillStyle = '#2E3FAF';
contexto.moveTo(150,290);
contexto.lineTo(150,390);
contexto.bezierCurveTo(150,390,180,395,190,390);
contexto.bezierCurveTo(190,390,230,365,300,365);
contexto.lineTo(300,290);
contexto.lineTo(200,290);
contexto.closePath();
contexto.fill();

// linea
contexto.beginPath(); // Inicializamos una ruta
contexto.lineCap = "square";
//contexto_canvas_1.strokeStyle="black";
contexto.moveTo(230, 373); // Nos situamos al principio de una línea
contexto.lineTo(230, 440); // Trazamos la línea
contexto.closePath();
contexto.stroke();

// rombo
contexto.fillStyle = '#e00ef1';
contexto.beginPath();
contexto.moveTo(230, 440);
contexto.lineTo(260, 490);
contexto.lineTo(230, 540);
contexto.lineTo(200, 490);
contexto.closePath();
contexto.fill();

// linea del archivo
contexto.beginPath(); // Inicializamos una ruta
contexto.lineCap = "square";
//contexto_canvas_1.strokeStyle="black";
contexto.moveTo(300, 340); // Nos situamos al principio de una línea
contexto.lineTo(350, 340); // Trazamos la línea
contexto.closePath();
contexto.stroke();

// linea del if
contexto.beginPath(); // Inicializamos una ruta
contexto.lineCap = "square";
//contexto_canvas_1.strokeStyle="black";
contexto.moveTo(260, 490); // Nos situamos al principio de una línea
contexto.lineTo(350, 490); // Trazamos la línea
contexto.closePath();
contexto.stroke();

// linea entre archivo e if
contexto.beginPath(); // Inicializamos una ruta
contexto.lineCap = "square";
//contexto_canvas_1.strokeStyle="black";
contexto.moveTo(350, 340); // Nos situamos al principio de una línea
contexto.lineTo(350, 490); // Trazamos la línea
contexto.closePath();
contexto.stroke();

// linea entre if y fin
contexto.beginPath(); // Inicializamos una ruta
contexto.lineCap = "square";
//contexto_canvas_1.strokeStyle="black";
contexto.moveTo(230, 540); // Nos situamos al principio de una línea
contexto.lineTo(230, 600); // Trazamos la línea
contexto.closePath();
contexto.stroke();

// elipse
contexto.beginPath();
contexto.fillStyle = '#2E3FAF';
contexto.moveTo(150,600);
contexto.lineTo(300,600);
contexto.bezierCurveTo(350,600,350,700,300,700);
contexto.lineTo(150,700);
contexto.bezierCurveTo(100,700,100,600,150,600);
contexto.closePath();
contexto.fill();

elem.addEventListener('click', function(event) {
    var x = event.pageX - elemLeft,
        y = event.pageY - elemTop;
    console.log(x, y);
    
}, false);

// SVG
var X = $('svg').width();
var Y = $('svg').height();
var coordendas = [];
var coordenadaX = 4; 
var coordenadaY = 4;

while(coordenadaX < X) {
  coordenadaY = 4;
  while(coordenadaY < Y) {
    coordendas.push([coordenadaX,coordenadaY]);
    coordenadaY += 80;
  }
  coordenadaX += 80;
}

for(var i in coordendas) {
  var x = coordendas[i][0];
  var y = coordendas[i][1];
  square(x,y);
}

function circle(x,y) {
  var newCircle = document.createElementNS('http://www.w3.org/2000/svg','circle');
  newCircle.setAttribute('cx',x+36);
  newCircle.setAttribute('cy',y+36);
  newCircle.setAttribute('r','25');
  newCircle.setAttribute('fill','yellow');
  $("svg").append(newCircle);
}

function square(x,y) {
  var newSquare = document.createElementNS('http://www.w3.org/2000/svg','rect');
  newSquare.setAttribute('x',x);
  newSquare.setAttribute('y',y);
  newSquare.setAttribute('width','72');
  newSquare.setAttribute('height','72');
  newSquare.setAttribute('fill','green');
  $("svg").append(newSquare);
}

function figDocument(x,y) {
  var newDocument = document.createElementNS('http://www.w3.org/2000/svg','path');
  newDocument.setAttribute('d',moveDocument(x,y));
  newDocument.setAttribute('fill',"red");
  newDocument.setAttribute('stroke',"#000000");
  newDocument.setAttribute('stroke-miterlimit',"1");
  newDocument.setAttribute('pointer-events',"all");
  $("svg").append(newDocument);
}

function moveDocument(x,y) {
  var fig = "M 0 0 L 72 0 L 72 68 Q 50 46.4 30 68 Q 10 79.6 0 68 L 0 12 Z";
  var separateVal = fig.split(" ");
  var coordenadasX = [1,4,7,10,12,15,17,20];
  var coordenadasY = [2,5,8,11,13,16,18,21];
  
  for(var i in coordenadasX) {
      var xIn = separateVal[coordenadasX[i]];
      var yIn = separateVal[coordenadasY[i]];
      var sumX = Number(xIn)+Number(x);
      var sumY = Number(yIn)+Number(y);
      separateVal[coordenadasX[i]] = sumX;
      separateVal[coordenadasY[i]] = sumY;
      var outFig = separateVal.join(" ");      
  }
  return outFig;
}

function diamond(x,y) {
  var newDiamond = document.createElementNS('http://www.w3.org/2000/svg','path');
  newDiamond.setAttribute('d',moveDiamond(x,y));
  newDiamond.setAttribute('fill',"red");
  newDiamond.setAttribute('stroke',"#000000");
  newDiamond.setAttribute('stroke-miterlimit',"1");
  newDiamond.setAttribute('pointer-events',"all");
  $("svg").append(newDiamond);
}

function moveDiamond(x,y) {
  var fig = "M 35 0 L 70 35 L 35 70 L 0 35 Z";
  var separateVal = fig.split(" ");
  var coordenadasX = [1,4,7,10];
  var coordenadasY = [2,5,8,11];
  
  for(var i in coordenadasX) {
    var xIn = separateVal[coordenadasX[i]];
    var yIn = separateVal[coordenadasY[i]];
    var sumX = Number(xIn)+Number(x);
    var sumY = Number(yIn)+Number(y);
    separateVal[coordenadasX[i]] = sumX;
    separateVal[coordenadasY[i]] = sumY;
    var outFig = separateVal.join(" ");      
  }
  return outFig;
}
</script>
    
</html>